class t{reflow(t){t.getBoundingClientRect()}}class e extends t{performLayout(t){var e;const s=t.getBoundingClientRect(),i=t.target.getBoundingClientRect(),o=t.parent.getBoundingClientRect();null===(e=t.option)||void 0===e||e.padding;const n={x:Math.max(s.x-o.x,0),y:Math.max(s.y-o.y,0)},r=i.x+s.width,h=i.x+(i.right-r)/2,l=i.y+i.height;return console.log(n),{x:h,y:l,size:{width:s.width,height:s.height}}}}const s={AUTO:"auto",AUTO_LEFT:"auto_left",AUTO_RIGHT:"auto_right",AUTO_CENTER:new e};class i{static attach(t,i,o=document.body,n=s.AUTO){if(null==t)throw new Error("todo");if(null==i)throw new Error("todo");if(null==o)throw new Error("todo");const r=document.createElement("overlay-wrapper");return r.append(t),r.target=i,r.parent=o,r.render=new e,this.overlays.set(t,r),o.append(r),r}static detach(t){console.log(this.overlays.get(t))}}i.overlays=new Map;class o extends HTMLElement{unsetLayout(){this.style.width="fit-content",this.style.height="fit-content",this.style.left="0px",this.style.top="0px",this.getBoundingClientRect()}disconnectedCallback(){this.observer.disconnect()}connectedCallback(){this.style.display="block",this.style.position="fixed",this.style.left="0px",this.style.top="0px",this.style.width="fit-content",this.style.height="fit-content",this.performLayout(),this.observer=new MutationObserver((()=>{this.unsetLayout(),this.performLayout()})),this.observer.observe(this.firstElementChild,{attributes:!0,characterData:!0,subtree:!0,childList:!0}),window.addEventListener("resize",(()=>{this.unsetLayout(),this.performLayout()}))}performLayout(){const t=this.render.performLayout(this);this.style.width=`${t.size.width}px`,this.style.height=`${t.size.height}px`,this.style.left=`${t.x}px`,this.style.top=`${t.y}px`,console.log(t)}}customElements.define("overlay-wrapper",o);export{i as Overlay,s as OverlayAlignment,o as OverlayElement,t as OverlayRender};
//# sourceMappingURL=index.esm.js.map
